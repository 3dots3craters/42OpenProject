{"ast":null,"code":"import axios from \"axios\";\nimport { ip } from \"./data\";\nexport var getData = function getData(url, setData) {\n  axios.get(url).then(function (response) {\n    console.log(\"response.data: \");\n    console.log(response.data);\n    setData([response.data]);\n    return 0;\n  }).catch(function (error) {\n    console.log(\"err: \");\n    console.log(error);\n    return 0;\n  });\n};\nexport var postData = function postData(url, object, func, val) {\n  var json = JSON.stringify(object);\n  var api = axios.create({\n    baseURL: ip\n  });\n  api.defaults.headers.post['Content-Type'] = 'application/json';\n  api.post(url, json).then(function (response) {\n    console.log(\"post_res: \");\n    console.log(response);\n    if (func != 0) func(val);\n  }).catch(function (error) {\n    console.log(\"post_err: \");\n    console.log(error);\n  });\n};\nexport var selectFood = function selectFood(url, food_name, navigation) {\n  console.log(\"navigation: \");\n  console.log(navigation);\n  var object = {\n    selectFood: food_name\n  };\n  postData(url, object, 0, 0);\n  navigation.reset({\n    routes: [{\n      name: 'Main'\n    }]\n  });\n};","map":{"version":3,"sources":["/Users/seocho/42OpenProject/frontend/srcs/func_data_communication.js"],"names":["axios","ip","getData","url","setData","get","then","response","console","log","data","catch","error","postData","object","func","val","json","JSON","stringify","api","create","baseURL","defaults","headers","post","selectFood","food_name","navigation","reset","routes","name"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,EAAT;AAEA,OAAO,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAMC,OAAN,EAAkB;AAEvCJ,EAAAA,KAAK,CACFK,GADH,CACOF,GADP,EAEGG,IAFH,CAEQ,UAAUC,QAAV,EAAoB;AAC3BC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACGN,IAAAA,OAAO,CAAC,CAACG,QAAQ,CAACG,IAAV,CAAD,CAAP;AACH,WAAO,CAAP;AAEE,GARH,EASGC,KATH,CASS,UAAUC,KAAV,EAAiB;AACvBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACCD,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AAIA,WAAO,CAAP;AACD,GAhBH;AAiBD,CAnBM;AAqBP,OAAO,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACV,GAAD,EAAMW,MAAN,EAAcC,IAAd,EAAoBC,GAApB,EAA6B;AACnD,MAAMC,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeL,MAAf,CAAb;AACA,MAAMM,GAAG,GAAGpB,KAAK,CAACqB,MAAN,CAAa;AACvBC,IAAAA,OAAO,EAAErB;AADc,GAAb,CAAZ;AAGAmB,EAAAA,GAAG,CAACG,QAAJ,CAAaC,OAAb,CAAqBC,IAArB,CAA0B,cAA1B,IAA4C,kBAA5C;AACAL,EAAAA,GAAG,CACAK,IADH,CACQtB,GADR,EACac,IADb,EAEGX,IAFH,CAEQ,UAAUC,QAAV,EAAoB;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,QAAIQ,IAAI,IAAI,CAAZ,EACEA,IAAI,CAACC,GAAD,CAAJ;AACH,GAPH,EAQGL,KARH,CAQS,UAAUC,KAAV,EAAiB;AACtBJ,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYG,KAAZ;AAID,GAdH;AAeD,CArBM;AAuBP,OAAO,IAAMc,UAAU,GAAG,SAAbA,UAAa,CAACvB,GAAD,EAAMwB,SAAN,EAAiBC,UAAjB,EAAgC;AAExDpB,EAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AACAD,EAAAA,OAAO,CAACC,GAAR,CAAYmB,UAAZ;AACA,MAAMd,MAAM,GAAG;AAAEY,IAAAA,UAAU,EAAGC;AAAf,GAAf;AACAd,EAAAA,QAAQ,CAACV,GAAD,EAAMW,MAAN,EAAc,CAAd,EAAiB,CAAjB,CAAR;AACAc,EAAAA,UAAU,CAACC,KAAX,CAAiB;AAAEC,IAAAA,MAAM,EAAG,CAAC;AAACC,MAAAA,IAAI,EAAG;AAAR,KAAD;AAAX,GAAjB;AACD,CAPM","sourcesContent":["import axios from \"axios\";\nimport { ip } from './data'\n\nexport const getData = (url, setData) => {\n\n  axios\n    .get(url)\n    .then(function (response) {\n\t  console.log(\"response.data: \");\n\t  console.log(response.data);\n      setData([response.data]);\n\t  return 0;\n    //return response.data로 바꿈\n    })\n    .catch(function (error) {\n\t    console.log(\"err: \");\n      console.log(error);\n\t  //3초 이내에 서버한테서 답이 안 오면 에러로 처리하게 설정\n\t  //유저한테 에러 메시지 창 띄우고\n\t  //메인으로 바로 이동\n      return 0;\n    });\n};\n\nexport const postData = (url, object, func, val) =>  {\n  const json = JSON.stringify(object);\n  const api = axios.create({\n    baseURL: ip,\n  });\n  api.defaults.headers.post['Content-Type'] = 'application/json';\n  api\n    .post(url, json)\n    .then(function (response) {\n      console.log(\"post_res: \");\n      console.log(response);\n      if (func != 0)\n        func(val);\n    })\n    .catch(function (error) {\n      console.log(\"post_err: \");\n      console.log(error);\n      //3초 이내에 서버한테서 답이 안 오면 에러로 처리하게 설정\n      //유저한테 에러 메시지 창 띄우고\n      //메인으로 바로 이동\n    });\n};\n\nexport const selectFood = (url, food_name, navigation) => {\n\n  console.log(\"navigation: \");\n  console.log(navigation);\n  const object = { selectFood : food_name };\n  postData(url, object, 0, 0);\n  navigation.reset({ routes : [{name : 'Main'}]});\n};"]},"metadata":{},"sourceType":"module"}